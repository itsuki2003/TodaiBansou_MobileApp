/**
 * react-big-calendar のカスタムスタイル
 * デザインシステムに合わせたスタイリング
 */

/* カレンダー全体のコンテナ */
.rbc-calendar {
  @apply bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200;
  font-family: inherit;
  min-height: 600px;
}

/* ヘッダー行（曜日表示） */
.rbc-header {
  @apply bg-gradient-to-r from-gray-50 to-gray-100 text-gray-700 font-semibold py-4 border-b border-gray-200 text-center;
  font-size: 0.875rem;
}

.rbc-header + .rbc-header {
  @apply border-l border-gray-200;
}

/* 月表示のコンテナ */
.rbc-month-view {
  @apply border-0;
}

/* 日付セル */
.rbc-date-cell {
  @apply text-right p-3 text-sm font-medium text-gray-600;
  min-height: 120px;
}

.rbc-date-cell > a {
  @apply text-gray-900 hover:text-primary-600 transition-colors duration-200;
}

/* 今日の日付 */
.rbc-today {
  @apply bg-primary-50 border-primary-200;
}

.rbc-today .rbc-date-cell > a {
  @apply text-primary-700 font-bold;
}

/* 月外の日付 */
.rbc-off-range {
  @apply text-gray-300;
}

.rbc-off-range-bg {
  @apply bg-gray-50;
}

/* 週表示・日表示のスタイル */
.rbc-time-view {
  @apply border-0;
}

.rbc-time-header {
  @apply border-b border-gray-200;
}

.rbc-time-content {
  @apply border-0;
}

.rbc-time-gutter {
  @apply bg-gray-50 border-r border-gray-200;
}

.rbc-timeslot-group {
  @apply border-b border-gray-100;
}

.rbc-time-slot {
  @apply border-r border-gray-100;
}

/* イベント（授業）の基本スタイル */
.rbc-event {
  @apply border-0 rounded-md shadow-sm cursor-pointer transition-all duration-200;
  font-size: 0.75rem;
  padding: 4px 8px;
  border: none !important;
}

.rbc-event:hover {
  @apply shadow-md transform scale-105;
}

.rbc-event:focus {
  @apply outline-none ring-2 ring-primary-500 ring-offset-2;
}

/* 授業種別ごとのスタイル */
.lesson-event {
  @apply font-medium;
}

.lesson-regular {
  background-color: #3B82F6 !important; /* Blue-500 */
  color: white !important;
  border-left: 4px solid #1E40AF !important; /* Blue-800 */
}

.lesson-regular:hover {
  background-color: #2563EB !important; /* Blue-600 */
}

.lesson-interview {
  background-color: #8B5CF6 !important; /* Purple-500 */
  color: white !important;
  border-left: 4px solid #5B21B6 !important; /* Purple-800 */
}

.lesson-interview:hover {
  background-color: #7C3AED !important; /* Purple-600 */
}

.lesson-makeup {
  background-color: #F59E0B !important; /* Amber-500 */
  color: white !important;
  border-left: 4px solid #B45309 !important; /* Amber-800 */
}

.lesson-makeup:hover {
  background-color: #D97706 !important; /* Amber-600 */
}

.lesson-additional {
  background-color: #10B981 !important; /* Green-500 */
  color: white !important;
  border-left: 4px solid #047857 !important; /* Green-800 */
}

.lesson-additional:hover {
  background-color: #059669 !important; /* Green-600 */
}

/* ステータス別のスタイル */
.lesson-absent {
  background-color: #6B7280 !important; /* Gray-500 */
  color: white !important;
  border-left: 4px solid #374151 !important; /* Gray-700 */
  opacity: 0.75;
}

.lesson-absent:hover {
  background-color: #4B5563 !important; /* Gray-600 */
  opacity: 0.9;
}

.lesson-rescheduled {
  background-color: #EF4444 !important; /* Red-500 */
  color: white !important;
  border-left: 4px solid #991B1B !important; /* Red-800 */
  opacity: 0.75;
}

.lesson-rescheduled:hover {
  @apply bg-warning-200 opacity-90;
}

/* イベントの内容 */
.rbc-event-content {
  @apply leading-tight;
}

/* 選択されたイベント */
.rbc-selected {
  @apply ring-2 ring-primary-500 ring-offset-2 shadow-lg;
}

/* ツールバー */
.rbc-toolbar {
  @apply mb-0 p-0;
}

.rbc-btn-group {
  @apply inline-flex rounded-md shadow-sm;
}

.rbc-btn-group button {
  @apply px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500;
}

.rbc-btn-group button:first-child {
  @apply rounded-l-md;
}

.rbc-btn-group button:last-child {
  @apply rounded-r-md;
}

.rbc-btn-group button:not(:first-child) {
  @apply -ml-px;
}

.rbc-active {
  @apply bg-primary-600 text-white border-primary-600;
}

.rbc-active:hover {
  @apply bg-primary-700;
}

/* 週表示の時間軸 */
.rbc-label {
  @apply text-xs text-gray-500 font-medium;
}

.rbc-time-header-content {
  @apply border-l border-gray-200;
}

.rbc-time-header-cell {
  @apply border-b border-gray-200;
}

/* スクロールバーのスタイリング */
.rbc-time-content::-webkit-scrollbar {
  width: 8px;
}

.rbc-time-content::-webkit-scrollbar-track {
  @apply bg-gray-100 rounded;
}

.rbc-time-content::-webkit-scrollbar-thumb {
  @apply bg-gray-300 rounded hover:bg-gray-400;
}

/* アジェンダビューのスタイル */
.rbc-agenda-view {
  @apply border border-gray-200 rounded-lg;
}

.rbc-agenda-view table {
  @apply w-full;
}

.rbc-agenda-view tbody > tr > td {
  @apply border-b border-gray-100 p-3;
}

.rbc-agenda-date-cell {
  @apply text-sm font-medium text-gray-900;
}

.rbc-agenda-time-cell {
  @apply text-sm text-gray-500;
}

.rbc-agenda-event-cell {
  @apply text-sm;
}

/* モバイル対応 */
@media (max-width: 640px) {
  .rbc-calendar {
    min-height: 400px;
  }
  
  .rbc-date-cell {
    min-height: 80px;
    @apply p-1;
  }
  
  .rbc-event {
    font-size: 0.625rem;
    padding: 2px 4px;
  }
  
  .rbc-header {
    @apply py-2 text-xs;
  }
}

/* アクセシビリティ */
@media (prefers-reduced-motion: reduce) {
  .rbc-event {
    transition: none;
  }
  
  .rbc-event:hover {
    transform: none;
  }
}

/* ダークモード対応（将来の拡張用） */
@media (prefers-color-scheme: dark) {
  .dark .rbc-calendar {
    @apply bg-gray-800 border-gray-700;
  }
  
  .dark .rbc-header {
    @apply bg-gray-700 text-gray-200 border-gray-600;
  }
  
  .dark .rbc-date-cell {
    @apply text-gray-300;
  }
  
  .dark .rbc-today {
    @apply bg-primary-900 border-primary-600;
  }
}